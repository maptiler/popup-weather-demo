"use strict";var _=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var H=Object.getOwnPropertyNames;var O=Object.prototype.hasOwnProperty;var Z=(n,t)=>{for(var r in t)_(n,r,{get:t[r],enumerable:!0})},w=(n,t,r,u)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of H(t))!O.call(n,o)&&o!==r&&_(n,o,{get:()=>t[o],enumerable:!(u=F(t,o))||u.enumerable});return n};var N=n=>w(_({},"__esModule",{value:!0}),n);var nn={};Z(nn,{altitudeFromMercatorZ:()=>S,bboxToXYZBounds:()=>k,convert:()=>G,latFromMercatorY:()=>D,llToMerc:()=>A,llToPX:()=>h,llToTile:()=>j,llToTilePx:()=>Q,lngFromMercatorX:()=>$,mercToLL:()=>X,mercatorLatScale:()=>z,mercatorXfromLng:()=>J,mercatorYfromLat:()=>K,mercatorZfromAltitude:()=>V,pxToLL:()=>L,pxToTile:()=>g,tilePxBounds:()=>v,xyzToBBOX:()=>W});module.exports=N(nn);var Y=63710088e-1;function d(n){return n*180/Math.PI}function l(n){return n*Math.PI/180}function E(n){return n%1!==0}var B=6378137,x=20037508342789244e-9;var I={};function U(n,t){if(n<0||n>30)throw Error("Invalid zoom level");return E(n)?y(n,t):(I[t]===void 0&&(I[t]={}),Array.isArray(I[t][n])||(I[t][n]=y(n,t)),I[t][n])}function y(n,t){let r=t*Math.pow(2,n);return[r/360,r/(2*Math.PI),r/2,r]}function h(n,t,r=!1,u=512){let{min:o,max:e,sin:s,log:m,round:c}=Math,[a,p,M,i]=U(t,u),R=r?2:1,T=M,f=o(e(s(l(n[1])),-.9999),.9999),P=T+n[0]*a,b=T+.5*m((1+f)/(1-f))*-p;return E(t)||(P=c(P),b=c(b)),P>i*R&&(P=i*R),b>i&&(b=i),[P,b]}function L(n,t,r=512){let{atan:u,exp:o,PI:e}=Math,[s,m,c]=U(t,r),a=(n[1]-c)/-m,p=(n[0]-c)/s,M=d(2*u(o(a))-.5*e);return[p,M]}function A(n){let{tan:t,log:r,PI:u}=Math,o=l(B*n[0]),e=B*r(t(u*.25+l(.5*n[1])));return o>x&&(o=x),o<-x&&(o=-x),e>x&&(e=x),e<-x&&(e=-x),[o,e]}function X(n){let{atan:t,exp:r,PI:u}=Math,o=d(n[0]/B),e=d(.5*u-2*t(r(-n[1]/B)));return[o,e]}function g(n,t=512){let{floor:r}=Math,u=r(n[0]/t),o=r(n[1]/t);return[u,o]}function v(n,t=512){let[,r,u]=n,o=r*t,e=u*t,s=o+t,m=e+t;return[o,e,s,m]}function j(n,t,r=512){let u=h(n,t,!1,r);return g(u,r)}function Q(n,t,r=512){let[u,o,e]=t,s=h(n,u,!1,r),m=o*r,c=e*r;return[(s[0]-m)/r,(s[1]-c)/r]}function G(n,t){return t==="WGS84"?[...X([n[0],n[1]]),...X([n[2],n[3]])]:[...A([n[0],n[1]]),...A([n[2],n[3]])]}function W(n,t,r,u=!0,o="900913",e=512){u&&(t=Math.pow(2,r)-1-t);let s=[n*e,(+t+1)*e],m=[(n+1)*e,t*e],c=L(s,r,e),a=L(m,r,e);return o==="900913"?[...A(c),...A(a)]:[...c,...a]}function k(n,t,r=!0,u="900913",o=512){let{min:e,max:s,pow:m,floor:c}=Math,a=[n[0],n[1]],p=[n[2],n[3]];u==="900913"&&(a=A(a),p=A(p));let M=h(a,t,!1,o),i=h(p,t,!1,o),R=[c(M[0]/o),c((i[0]-1)/o)],T=[c(i[1]/o),c((M[1]-1)/o)],f={minX:e(...R)<0?0:e(...R),minY:e(...T)<0?0:e(...T),maxX:s(...R),maxY:s(...T)};if(r){let P=m(2,t)-1-f.maxY,b=m(2,t)-1-f.minY;f.minY=P,f.maxY=b}return f}var q=2*Math.PI*Y;function C(n){return q*Math.cos(n*Math.PI/180)}function J(n){return(180+n)/360}function K(n){let{PI:t,log:r,tan:u}=Math;return(180-180/t*r(u(t/4+n*t/360)))/360}function V(n,t){return n/C(t)}function $(n){return n*360-180}function D(n){let{PI:t,atan:r,exp:u}=Math,o=180-n*360;return 360/t*r(u(o*t/180))-90}function S(n,t){return n*C(D(t))}function z(n){let{cos:t,PI:r}=Math;return 1/t(n*r/180)}0&&(module.exports={altitudeFromMercatorZ,bboxToXYZBounds,convert,latFromMercatorY,llToMerc,llToPX,llToTile,llToTilePx,lngFromMercatorX,mercToLL,mercatorLatScale,mercatorXfromLng,mercatorYfromLat,mercatorZfromAltitude,pxToLL,pxToTile,tilePxBounds,xyzToBBOX});
//# sourceMappingURL=mercCoords.cjs.map